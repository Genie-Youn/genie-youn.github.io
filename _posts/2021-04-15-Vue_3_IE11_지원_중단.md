---
layout: post
title: "Vue3, IE11 지원 중단"
author: "genie-youn"
categories: journal
tags: [Vue, IE11]
image: DSC04956.jpg
---

Vue의 새로운 메이저 버전인 Vue3 가 나온지 벌써 6개월이 흘렀다.

Vue3 의 새로운 반응성 시스템은 ES 2015의 새로운 기능인 `Proxy` 를 기반으로 다시 구현되었고, 자연스레 이를 지원하지 않는 IE11은 그 지원대상에서 제외되었다.

Vue 개발팀은 우선 Vue3 를 릴리즈하고 그 다음 스텝으로 Vue2 와 동일한 방식인 ES5 `getters/setters` 를 기반으로한 반응성 시스템을 갖는 Vue3 빌드를 만들어 IE11을 지원할 계획을 갖고있었으나, 최근 그 방향성을 바꿔 IE11 지원을 중단하는 RFC 를 생성했다.

> RFC 전문은 다음 [링크](https://github.com/vuejs/rfcs/blob/ie11/active-rfcs/0000-vue3-ie11-support.md) 를 참고한다.

요약하면 다음과 같다.

#### 원인
- 두 가지 버전의 반응성 시스템
  + 앞서 서술했듯 Vue3 는 `Proxy` 를 기반으로 반응성 시스템을 새로 구현하였고, 이는 IE11 에서 동작하지 않는다.
  + IE11 을 지원하기 위해선 `getters/setters` 를 기반으로 한 또 다른 버전의 반응성 시스템을 제공해야 하고 이처럼 다르게 동작하는 두 가지의 반응성 시스템은 큰 복잡도와 리스크를 의미한다.
- 유지보수의 어려움
  + IE11을 지원한다는건 전체 코드베이스 내 언어들의 기능들에 대하여 적절한 `polyfill` 과 `transpilation` 전략을 찾아내야 한다는 것을 의미하며,
  + 반응성 시스템 처럼 동일한 목적을 가진 다르게 동작하는 또 다른 기능이 생겨날 여지가 있다.
  + 한번 Vue3 가 IE11에 대한 지원을 커밋한다면 다음 메이저 릴리즈까지 이를 제거할 수 없을 것이다.
- 라이브러리 제작자들이 가져야할 복잡도
  + 이러한 복잡도가 온전히 Vue 내부의 문제라면 어느정도 안고 갈 수 있겠지만,
  + Vue의 라이브러리를 제작하는 개발자들도 필연적으로 두 가지 반응성 시스템에 대한 이해를 필요로 하게 된다.
- IE11 이 유지되는데 기여
  + IE11을 지원하는 것은 과거에 고착된 죽어가는 브라우저를 계속 사용할 이유를 제공하는것과 같다.

#### 결과
- Vue3 는 IE11 에 대한 지원을 하지 않는다.
- 만약 IE11을 꼭 지원해야 할 환경이라면 (금융 기관이나, 교육 업계 등등) Vue2 를 계속 사용할 것을 권한다.
- IE11 을 꼭 지원해야 하는 사용자들을 위해 2.7 릴리즈에서 아래 Vue3 의 새로운 기능을 Vue2 로 백포팅하여 두 가지 주요 버전에서 보다 긴밀한 개발경험을 할 수 있도록 한다.
  + [`@vue/composition` plugin](https://github.com/vuejs/composition-api) 을 Vue2 에 통합
  + Single-File Component 의 [`<script setup>`](https://github.com/vuejs/rfcs/pull/227) 문법
  + `emits` 옵션
  + TypeScript 를 통한 타입핑 개선
  + Vite 에서 Vue2 지원을 공식화

### 마치며
개발하고 있는 서비스의 지원 브라우저에 IE11이 포함되어 Vue3 의 IE11 빌드를 기다리고 있었는데, 지원을 하지 않는다는 소식을 접하고 조금 당황스러웠다.

하지만 이 또한 합리적인 결정으로 보이며 IE11에 대한 지원을 고민해볼 시기인것 같다.

아직 결정되지 않은 RFC 이고, 이후 따르는 논의는 다음 [링크](https://github.com/vuejs/rfcs/discussions/296) 에서 확인할 수 있다.
